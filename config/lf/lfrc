# Basic Settings
set nopreview
set hidden true
set ignorecase true
set drawbox
# set icons true


# Custom Functions
cmd mkdir ${{
    clear
    printf "Directory Name: "
    read ans
    mkdir $ans
}}

cmd mkfile ${{
    clear
    printf "File Name: "
    read ans
    $EDITOR $ans
}}

cmd setwallpaper ${{
    xwallpaper --zoom "$f"
    cp "$f" ~/.config/wall/picture
}}

# Image view
cmd viewimg ${{
    pkill -SIGINT feh
    feh --scale-down --auto-zoom "$f" &
    sleep 0.4
    # xdotool key Alt+j
}}

cmd open ${{
    case "$f" in 
        *.JPG|*.jpg|*.jpeg|*.png) 
            dwmswallow $WINDOWID; feh --scale-down --auto-zoom "$f"

            # pkill -SIGINT feh
            # feh --scale-down --auto-zoom "$f" &
            # sleep 0.4
            # xdotool key Alt+k
            ;;
        *.pdf) 
            dwmswallow $WINDOWID; zathura "$f"
            ;;

        *) $EDITOR "$f";;
    esac
}}

# favorites
cmd fave ${{
    cp "$f" ~/Pictures/Wallpapers/Favorites
}}

cmd rm_fave ${{
    rm ~/Pictures/Wallpapers/Favorites/"$f"
}}


# Archive bindings
cmd unarchive ${{
  case "$f" in
      *.zip) unzip "$f" ;;
      *.tar.gz) tar -xzvf "$f" ;;
      *.tar.bz2) tar -xjvf "$f" ;;
      *.tar) tar -xvf "$f" ;;
      *) echo "Unsupported format" ;;
  esac
}}

cmd rename ${{
    clear
    printf "Old Name: $f\n"
    printf "New Name: "
    read ans
    mv "$f" $ans
}}

cmd remove_dir ${{
    sudo rm -r "$f"
}}

cmd remove_file ${{
    rm "$f"
}}

cmd make ${{
    make && sudo make install
}}

cmd photos ${{
    # setting up directories
    year=2005
    while [ "$year" -lt 2023 ]
    do
        mkdir -p ~/Pictures/Photos/"$year"
        ((year++))
    done

    # setting up logfile
    touch -p ~/Pictures/Photos/logs.txt
    
    # asking for confirmation
    clear
    copy_to="$1"
    printf "Copied to $copy_to \n"
    printf "To undo type 'R': "
    read ans

    case "$ans" in
        "R") clear ;;
        *)
            # actually copying
            cp "$f" ~/Pictures/Photos/"$copy_to" 
            # writing to logfile
            filename=$(basename "$f")
            echo "$f -cp-> ~/Pictures/Photos/$copy_to/$filename" >> ~/Pictures/Photos/logs.txt
            ;;
    esac


}}


# remove defaults
map m 
map o
map n
map "'"
map '"'
map c
map e
map f
map r

# Basic Functions
map . set hidden!
map p paste
map y copy
map <enter> open
map R reload

map rr rename

map rf remove_file 
map rd remove_dir 

map mf mkfile
map md mkdir
map mm make 

map zz unarchive

map bv viewimg
map bg setwallpaper
map bf fave
map br rm_fave

map gr cd /
map gh cd ~/
map gd cd ~/Downloads
map gD cd ~/Documents
map gp cd ~/Pictures
map gS cd ~/.scripts
map gc cd ~/.config
map gCS cd ~/.config/suckless
map gse cd ~/.setup
map gsc cd ~/.setup/config
map gss cd ~/.setup/system
map gusb cd /run/media/falk

map f% photos 2005
map f& photos 2006
map f/ photos 2007
map f( photos 2008
map f) photos 2009
map f= photos 2010
map f1 photos 2011
map f2 photos 2012
map f3 photos 2013
map f4 photos 2014
map f5 photos 2015
map f6 photos 2016
map f7 photos 2017
map f8 photos 2018
map f9 photos 2019
map f0 photos 2020
map f! photos 2021
map f" photos 2022
map fยง photos 2023

map C clear

